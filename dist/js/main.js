let button=document.querySelector("#consultar-tasas"),myHeaders=new Headers,requestOptions=(myHeaders.append("apikey","RE656etU3tNeYc3ueTyYuCf7lX1FddGW"),{method:"GET",redirect:"follow",headers:myHeaders});function crearListaDeBases(){let o=document.querySelector("#base");fetch("https://api.apilayer.com/exchangerates_data/symbols",requestOptions).then(e=>e.json()).then(r=>{Object.keys(r.symbols).forEach(e=>{let t=document.createElement("option");t.setAttribute("value",""+e),t.textContent=e+" - "+r.symbols[e],o.appendChild(t)})}).catch(e=>console.log("error",e))}function mostrarResultado(){let e=document.querySelector("#resultado");e.className="resultado"}function ocultarResultado(){let e=document.querySelector("#resultado");e.className="oculto"}function resetearResultado(){let e=document.querySelectorAll(".moneda-li");e.forEach(e=>{e.remove()})}function validarFecha(){""===document.querySelector("#date").value&&(ocultarResultado(),mostrarErrores())}function borrarErroresMostrados(){let e=document.querySelector("#date"),t=(e.style.border="",document.querySelector("#mostrar-errores"));t.className="oculto"}function mostrarErrores(){let e=document.querySelector("#date"),t=(e.style.border="2px solid #f70c47",document.querySelector("#mostrar-errores"));t.className="form-row__errores"}crearListaDeBases(),button.onclick=function(e){resetearResultado();var t=document.querySelector("#date").value,r=document.querySelector("#base").value;let o=document.querySelector(".strong-date"),a=document.querySelector(".strong-base"),s=document.querySelector(".resultado-ul");validarFecha(),""!=t&&(borrarErroresMostrados(),fetch(`https://api.apilayer.com/exchangerates_data/${t}?symbols=&base=`+r,requestOptions).then(e=>e.json()).then(r=>{Object.keys(r.rates).forEach(e=>{let t=document.createElement("li");t.className="moneda-li",t.textContent=e+": "+r.rates[e],s.appendChild(t)})}),o.textContent=t,a.textContent=r,mostrarResultado()),e.preventDefault()};